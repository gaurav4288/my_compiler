LL0:
PUSH BP
MOV BP SP
PUSH R0
PUSH R0
MOV R0 -4
MOV R1 BP
ADD R0 R1
MOV R0 [R0]
MOV R1 -3
MOV R2 BP
ADD R1 R2
MOV R1 [R1]
GT R0 R1
JZ R0 L0
PUSH R0
MOV R1 -4
MOV R2 BP
ADD R1 R2
MOV R1 [R1]
PUSH R1
MOV R1 -3
MOV R2 BP
ADD R1 R2
MOV R1 [R1]
PUSH R1
PUSH R1
CALL LL1
POP R1
POP R2
POP R2
POP R0
MOV R2 1
MOV R3 BP
ADD R2 R3
MOV [R2] R1
PUSH R0
MOV R1 1
MOV R2 BP
ADD R1 R2
MOV R1 [R1]
MOV R2 1
SUB R1 R2
PUSH R1
MOV R1 -3
MOV R2 BP
ADD R1 R2
MOV R1 [R1]
PUSH R1
PUSH R1
CALL LL0
POP R1
POP R2
POP R2
POP R0
MOV R2 2
MOV R3 BP
ADD R2 R3
MOV [R2] R1
PUSH R0
MOV R1 -4
MOV R2 BP
ADD R1 R2
MOV R1 [R1]
PUSH R1
MOV R1 1
MOV R2 BP
ADD R1 R2
MOV R1 [R1]
MOV R2 1
ADD R1 R2
PUSH R1
PUSH R1
CALL LL0
POP R1
POP R2
POP R2
POP R0
MOV R2 2
MOV R3 BP
ADD R2 R3
MOV [R2] R1
L0:
MOV R0 11
MOV R1 BP
MOV R2 2
SUB R1 R2
MOV [R1] R0
POP R0
POP R0
POP BP
RET
LL1:
PUSH BP
MOV BP SP
PUSH R0
PUSH R0
PUSH R0
PUSH R0
MOV R0 0
MOV R1 -3
MOV R2 BP
ADD R1 R2
MOV R1 [R1]
ADD R0 R1
MOV R0 [R0]
MOV R1 3
MOV R2 BP
ADD R1 R2
MOV [R1] R0
MOV R0 -3
MOV R1 BP
ADD R0 R1
MOV R0 [R0]
MOV R1 1
MOV R2 BP
ADD R1 R2
MOV [R1] R0
MOV R0 -4
MOV R1 BP
ADD R0 R1
MOV R0 [R0]
MOV R1 2
MOV R2 BP
ADD R1 R2
MOV [R1] R0
L1:
MOV R0 1
MOV R1 BP
ADD R0 R1
MOV R0 [R0]
MOV R1 2
MOV R2 BP
ADD R1 R2
MOV R1 [R1]
LT R0 R1
JZ R0 L2
L3:
MOV R0 0
MOV R1 1
MOV R2 BP
ADD R1 R2
MOV R1 [R1]
ADD R0 R1
MOV R0 [R0]
MOV R1 3
MOV R2 BP
ADD R1 R2
MOV R1 [R1]
LE R0 R1
JZ R0 L4
MOV R0 1
MOV R1 BP
ADD R0 R1
MOV R0 [R0]
MOV R1 1
ADD R0 R1
MOV R1 1
MOV R2 BP
ADD R1 R2
MOV [R1] R0
JMP L3
L4:
L5:
MOV R0 0
MOV R1 2
MOV R2 BP
ADD R1 R2
MOV R1 [R1]
ADD R0 R1
MOV R0 [R0]
MOV R1 3
MOV R2 BP
ADD R1 R2
MOV R1 [R1]
GT R0 R1
JZ R0 L6
MOV R0 2
MOV R1 BP
ADD R0 R1
MOV R0 [R0]
MOV R1 1
SUB R0 R1
MOV R1 2
MOV R2 BP
ADD R1 R2
MOV [R1] R0
JMP L5
L6:
MOV R0 1
MOV R1 BP
ADD R0 R1
MOV R0 [R0]
MOV R1 2
MOV R2 BP
ADD R1 R2
MOV R1 [R1]
LT R0 R1
JZ R0 L7
MOV R1 0
MOV R2 1
MOV R3 BP
ADD R2 R3
MOV R2 [R2]
ADD R1 R2
MOV R1 [R1]
MOV R2 4
MOV R3 BP
ADD R2 R3
MOV [R2] R1
MOV R1 0
MOV R2 1
MOV R3 BP
ADD R2 R3
MOV R2 [R2]
ADD R1 R2
MOV R2 0
MOV R3 2
MOV R4 BP
ADD R3 R4
MOV R3 [R3]
ADD R2 R3
MOV R2 [R2]
MOV [R1] R2
MOV R1 0
MOV R2 2
MOV R3 BP
ADD R2 R3
MOV R2 [R2]
ADD R1 R2
MOV R2 4
MOV R3 BP
ADD R2 R3
MOV R2 [R2]
MOV [R1] R2
L7:
JMP L1
L2:
MOV R0 0
MOV R1 -3
MOV R2 BP
ADD R1 R2
MOV R1 [R1]
ADD R0 R1
MOV R1 0
MOV R2 2
MOV R3 BP
ADD R2 R3
MOV R2 [R2]
ADD R1 R2
MOV R1 [R1]
MOV [R0] R1
MOV R0 0
MOV R1 2
MOV R2 BP
ADD R1 R2
MOV R1 [R1]
ADD R0 R1
MOV R1 3
MOV R2 BP
ADD R1 R2
MOV R1 [R1]
MOV [R0] R1
MOV R0 2
MOV R1 BP
ADD R0 R1
MOV R0 [R0]
MOV R1 BP
MOV R2 2
SUB R1 R2
MOV [R1] R0
POP R0
POP R0
POP R0
POP R0
POP BP
RET
START
MOV SP 1000
MOV BP SP
PUSH R0
PUSH R0
MAIN:
MOV R0 1
MOV R1 1
MOV R2 BP
ADD R1 R2
MOV [R1] R0
L8:
MOV R0 1
MOV R1 BP
ADD R0 R1
MOV R0 [R0]
MOV R1 10
LE R0 R1
JZ R0 L9
MOV R0 0
MOV R1 1
MOV R2 BP
ADD R1 R2
MOV R1 [R1]
ADD R0 R1
IN R1
MOV [R0] R1
MOV R0 1
MOV R1 BP
ADD R0 R1
MOV R0 [R0]
MOV R1 1
ADD R0 R1
MOV R1 1
MOV R2 BP
ADD R1 R2
MOV [R1] R0
JMP L8
L9:
MOV R0 10
PUSH R0
MOV R0 0
PUSH R0
PUSH R0
CALL LL0
POP R0
POP R1
POP R1
MOV R1 2
MOV R2 BP
ADD R1 R2
MOV [R1] R0
MOV R0 1
MOV R1 1
MOV R2 BP
ADD R1 R2
MOV [R1] R0
L10:
MOV R0 1
MOV R1 BP
ADD R0 R1
MOV R0 [R0]
MOV R1 10
LE R0 R1
JZ R0 L11
MOV R0 0
MOV R1 1
MOV R2 BP
ADD R1 R2
MOV R1 [R1]
ADD R0 R1
MOV R0 [R0]
OUT R0
MOV R0 1
MOV R1 BP
ADD R0 R1
MOV R0 [R0]
MOV R1 1
ADD R0 R1
MOV R1 1
MOV R2 BP
ADD R1 R2
MOV [R1] R0
JMP L10
L11:
MOV R0 1
MOV R1 BP
MOV R2 2
SUB R1 R2
MOV [R1] R0
HALT
